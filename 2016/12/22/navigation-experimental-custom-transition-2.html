<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>React Navigation: Cross Fade and Android Default Transitions &mdash; Linton's React Native Diary</title>
  <!--[if lt IE 9]><script src='https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js'></script><![endif]-->
  
  <link rel="stylesheet" href="/assets/app.css">
  <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<script src="/assets/app.js"></script>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-79925561-1', 'auto');
  ga('send', 'pageview');
</script>


  <link rel="shortcut icon" href="/favicon.ico?v2" type="image/x-icon" />
  <link rel="alternate" type="application/atom+xml" title="Linton's React Native Diary" href="/atom.xml" />
  <meta name="title" content="React Navigation: Cross Fade and Android Default Transitions ">
  <link rel="canonical" href="http://lintonye.github.io/2016/12/22/navigation-experimental-custom-transition-2.html">
  
  
  <meta property="og:title" content="React Navigation: Cross Fade and Android Default Transitions"/>
  <meta property="og:url" content="http://lintonye.github.io/2016/12/22/navigation-experimental-custom-transition-2.html"/>
  
  
  <meta property="og:description" content="Blog series: creating custom transitions using React Navigation. This post covers inputRange and a couple of simple custom transitions."/>
  <meta name="description" content="Blog series: creating custom transitions using React Navigation. This post covers inputRange and a couple of simple custom transitions."/>
  
  <meta property="og:site_name" content="Linton's React Native Diary">
</head>
<body>

  <header class="site-header">
    <nav>
      <a class="brand" href="/">
        <img src="/images/logo.png" alt="Inc">
      </a>
      <a href="/">Blog</a>
      <a href="/about.html">About</a>
    </nav>
  </header>

  


<article >

  <div class="container">
    <header>
      <div class="meta">
        By <address><a rel="author" href="" title="Linton Ye" target="_blank">Linton Ye</a></address> &mdash;
        <time pubdate datetime="2016-22-December" title="Dec 22, 2016">Dec 22, 2016</time> &mdash;
        
14 min read

      </div>
      <h1 class="title">React Navigation: Cross Fade and Android Default Transitions</h1>
      
    </header>

    <section>
      <p><em>This is a series of posts about how to create custom transition “views” using the <code class="highlighter-rouge">Transitioner</code> in <a href="https://reactnavigation.org/">React Navigation</a> (based on “NavigationExperiemental”):</em></p>

<ul>
  <li><em><a href="/2016/12/20/navigation-experimental-custom-transition-1.html">An overview of Transitioner and CardStack</a></em></li>
  <li><em>Simple transitions: cross fade and Android default (this post)</em></li>
  <li><em><a href="/2017/01/23/react-navigation-shared-element-transition-1.html">Shared element transition 1/3: overview</a></em></li>
  <li><em><a href="/2017/01/25/react-navigation-shared-element-transition-2.html">Shared element transition 2/3: bounding boxes</a></em></li>
  <li><em>Shared element transition 3/3: the animation (coming soon)</em></li>
</ul>

<hr />

<div class="update-notes" style="background: #e8e8e8; padding: 10px; font-size: 0.8em; border-radius: 5px; margin-bottom: 20px;">
<p><strong>Update notes (2017-02-01):</strong> This post was written before the release of React Navigation which will replace NavigationExperimental soon. However, this post is still worth reading since React Native uses core classes in NavigationExperimental. Some minor changes:</p>
<ul>
  <li><code class="highlighter-rouge">NavigationCardStack</code> and <code class="highlighter-rouge">NavigationTransitioner</code> are now simply <code class="highlighter-rouge">CardStack</code> and <code class="highlighter-rouge">Transitioner</code></li>
  <li><code class="highlighter-rouge">CardStack</code> now uses bottom-up transition on Android by default, very similar to the androidDefault animation shown below. That’s a great move.</li>
  <li><code class="highlighter-rouge">CardStack</code> now has a <a href="https://reactnavigation.org/docs/navigators/navigation-prop"><code class="highlighter-rouge">navigation</code> prop</a> which includes the <code class="highlighter-rouge">state</code> and navigation functions.</li>
</ul>
</div>

<p>In the <a href="/2016/12/20/navigation-experimental-custom-transition-1.html">previous post</a>, we covered how the transition animations in <code class="highlighter-rouge">NavigationCardStack</code> work: the <code class="highlighter-rouge">NavigationTransitioner</code> creates two <code class="highlighter-rouge">AnimatedValue</code>s, <code class="highlighter-rouge">position</code> and <code class="highlighter-rouge">progress</code>, which are then passed to <code class="highlighter-rouge">CardStack</code> and “interpolated” into style properties such as <code class="highlighter-rouge">scaleX</code>, <code class="highlighter-rouge">translateX</code> and <code class="highlighter-rouge">opacity</code>.</p>

<p>In this post, we’ll take a closer look at how the <code class="highlighter-rouge">inputRange</code> and <code class="highlighter-rouge">outputRange</code> are set up in <code class="highlighter-rouge">CardStack</code> when interpolating the <code class="highlighter-rouge">AnimatedValue</code>s. We’ll also apply what we learn to create a couple of simple transitions:</p>

<div style="display:flex; flex-direction:row;">
  <!-- crossFade -->
  <div class="fivecol" style="float:none; margin-bottom:20px; ">
  <iframe width="282" height="500" src="//www.youtube.com/embed/6_BGrOQQlko?controls=0&amp;rel=0&amp;showinfo=0;" frameborder="0" allowfullscreen=""></iframe>
  </div>

  <!-- androidDefault -->
  <div class="fivecol" style="float:none; margin-bottom:20px; margin-left:10px;">
  <iframe width="282" height="500" src="//www.youtube.com/embed/oVwq1QDcnOw?controls=0&amp;rel=0&amp;showinfo=0;" frameborder="0" allowfullscreen=""></iframe>
  </div>

</div>

<h1 id="sceneindex-and-inputrange"><code class="highlighter-rouge">scene.index</code> and <code class="highlighter-rouge">inputRange</code></h1>
<p>The default “card stack” transition looks like this:</p>

<div class="fivecol" style="float:none; margin-bottom:20px;">
<iframe width="282" height="500" src="//www.youtube.com/embed/cx4MmOV0_M0?controls=0&amp;rel=0&amp;showinfo=0;" frameborder="0" allowfullscreen=""></iframe>
</div>

<p>Before diving into the code of <code class="highlighter-rouge">CardStack</code>, let’s imagine how we’d implement this ourselves. We’ll use <code class="highlighter-rouge">opacity</code> as an example.</p>

<p>If we observe closely, we’ll notice that when the photo detail screen moves in, the photo grid screen becomes dimmer and dimmer until totally invisible, whereas the photo detail screen remains opaque.</p>

<p><img src="/images/navigation-custom-transition/cardStack-seq.png" alt="cardStack seq" /></p>

<p>Remember the <code class="highlighter-rouge">AnimateValue</code> <strong><code class="highlighter-rouge">position</code></strong>? It represents the changing index of the scene during the transition. When it transits from the index of photo grid to the index of photo detail, we shall change the opacity of the grid from 1 to 0, and vice versa. Therefore:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// photo grid</span>
<span class="kr">const</span> <span class="nx">opacityForGrid</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">interpolate</span><span class="p">({</span>
  <span class="na">inputRange</span><span class="p">:</span> <span class="p">[</span><span class="nx">indexOfGrid</span><span class="p">,</span> <span class="nx">indexOfDetail</span><span class="p">],</span>
  <span class="na">outputRange</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="p">});</span>

<span class="c1">// photo detail</span>
<span class="kr">const</span> <span class="nx">opacityForDetail</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">interpolate</span><span class="p">({</span>
  <span class="na">inputRange</span><span class="p">:</span> <span class="p">[</span><span class="nx">indexOfGrid</span><span class="p">,</span> <span class="nx">indexOfDetail</span><span class="p">],</span>
  <span class="na">outputRange</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="p">});</span></code></pre></div>

<p>The question is how to figure out <code class="highlighter-rouge">indexOfGrid</code> and <code class="highlighter-rouge">indexOfDetail</code>. Let’s keep going.</p>

<p>If we check out <code class="highlighter-rouge">NavigationCardStack</code>, we’ll see that <code class="highlighter-rouge">_renderScene()</code> is called with every scene available:</p>

<div class="highlight"><pre><code class="language-jsx" data-lang="jsx"><span class="kr">const</span> <span class="nx">scenes</span> <span class="o">=</span> <span class="nx">props</span><span class="p">.</span><span class="nx">scenes</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span>
 <span class="nx">scene</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">_renderScene</span><span class="p">({</span>
   <span class="p">...</span><span class="nx">props</span><span class="p">,</span>
   <span class="nx">scene</span><span class="p">,</span>
 <span class="p">})</span>
<span class="p">);</span></code></pre></div>

<p>This means that in <code class="highlighter-rouge">_renderScene()</code> we know the index of the current scene being rendered:</p>

<div class="highlight"><pre><code class="language-jsx" data-lang="jsx"><span class="nx">_renderScene</span><span class="p">(</span><span class="nx">props</span><span class="p">:</span> <span class="nx">NavigationSceneTransitionProps</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">scene</span> <span class="o">=</span> <span class="nx">props</span><span class="p">.</span><span class="nx">scene</span><span class="p">;</span>
  <span class="kr">const</span> <span class="nx">index</span> <span class="o">=</span> <span class="nx">scene</span><span class="p">.</span><span class="nx">index</span><span class="p">;</span>
  <span class="p">....</span>
<span class="p">}</span></code></pre></div>

<p>But how do we know whether this <code class="highlighter-rouge">index</code> is <code class="highlighter-rouge">indexOfGrid</code> or <code class="highlighter-rouge">indexOfDetail</code>? There is a small trick here. We know that <code class="highlighter-rouge">indexOfDetail</code> is always <code class="highlighter-rouge">indexOfGrid + 1</code>, so:</p>

<ul>
  <li>if <code class="highlighter-rouge">index === indexOfGrid</code>, then <code class="highlighter-rouge">indexOfDetail = index + 1</code></li>
  <li>if <code class="highlighter-rouge">index === indexOfDetail</code>, then  <code class="highlighter-rouge">indexOfGrid = index - 1</code></li>
</ul>

<p>Using this, we can merge our previous <code class="highlighter-rouge">opacityForGrid</code> and <code class="highlighter-rouge">opacityForDetail</code> into a single <code class="highlighter-rouge">opacity</code> which can be used to render all the scenes, no matter if it’s the photo grid or detail. Isn’t it beautiful?</p>

<p><img src="/images/navigation-custom-transition/opacities.png" alt="opacity code" /></p>

<p>As a recap, here’s the complete code:</p>

<div class="highlight"><pre><code class="language-jsx" data-lang="jsx"><span class="c1">// NavigationCardStack.js</span>

<span class="kr">class</span> <span class="nx">NavigationCardStack</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="o">&lt;</span><span class="nx">DefaultProps</span><span class="p">,</span> <span class="nx">Props</span><span class="p">,</span> <span class="k">void</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="p">....</span>
  <span class="nx">_render</span><span class="p">(</span><span class="na">props</span><span class="p">:</span> <span class="nx">NavigationTransitionProps</span><span class="p">):</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Element</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="p">....</span>
    <span class="kr">const</span> <span class="nx">scenes</span> <span class="o">=</span> <span class="nx">props</span><span class="p">.</span><span class="nx">scenes</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span>
     <span class="nx">scene</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">_renderScene</span><span class="p">({</span>
       <span class="p">...</span><span class="nx">props</span><span class="p">,</span>
       <span class="nx">scene</span><span class="p">,</span>
     <span class="p">})</span>
    <span class="p">);</span>

    <span class="k">return</span> <span class="p">(</span>
        <span class="p">&lt;</span><span class="nc">View</span> <span class="p">....</span> <span class="p">&gt;</span>
          <span class="si">{</span><span class="nx">scenes</span><span class="si">}</span>
        <span class="p">&lt;/</span><span class="nc">View</span><span class="p">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
  <span class="nx">_renderScene</span><span class="p">(</span><span class="na">props</span><span class="p">:</span> <span class="nx">NavigationSceneTransitionProps</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">....</span>
    <span class="kr">const</span> <span class="nx">style</span> <span class="o">=</span> <span class="nx">NavigationCardStackStyleInterpolator</span><span class="p">.</span><span class="nx">forHorizontal</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
    <span class="p">....</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// NavigationCardStackStyleInterpolator.js</span>

<span class="kd">function</span> <span class="nx">forHorizontal</span><span class="p">(</span><span class="na">props</span><span class="p">:</span> <span class="nx">NavigationSceneRendererProps</span><span class="p">):</span> <span class="nb">Object</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="p">{</span>
    <span class="nx">position</span><span class="p">,</span>
    <span class="p">....</span>
  <span class="p">}</span> <span class="o">=</span> <span class="nx">props</span><span class="p">;</span>
  <span class="p">....</span>
  <span class="kr">const</span> <span class="nx">index</span> <span class="o">=</span> <span class="nx">scene</span><span class="p">.</span><span class="nx">index</span><span class="p">;</span>
  <span class="kr">const</span> <span class="nx">inputRange</span> <span class="o">=</span> <span class="p">[</span><span class="nx">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">index</span> <span class="o">+</span> <span class="mf">0.99</span><span class="p">,</span> <span class="nx">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
  <span class="p">....</span>
  <span class="kr">const</span> <span class="nx">opacity</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">interpolate</span><span class="p">({</span>
    <span class="nx">inputRange</span><span class="p">,</span>
    <span class="na">outputRange</span><span class="p">:</span> <span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mi">0</span><span class="p">]:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="nx">number</span><span class="o">&gt;</span><span class="p">),</span>
  <span class="p">});</span>
  <span class="p">....</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="nx">opacity</span><span class="p">,</span>
    <span class="p">....</span>
  <span class="p">};</span>
<span class="p">}</span></code></pre></div>

<p>I know. What is that “<code class="highlighter-rouge">index + 0.99</code>” doing there? Let me explain.</p>

<p><a name="0.99-cliff"></a></p>

<h1 id="the-099-cliff-trick">The “<code class="highlighter-rouge">0.99</code>-cliff” trick</h1>

<p><img src="/images/navigation-custom-transition/099-trick.png" alt="opacity code" /></p>

<p>The point for the <code class="highlighter-rouge">0.99</code> is that it’s <strong>very close</strong> to <code class="highlighter-rouge">1</code>. Using them as the input range, we are able to create a “cliff” in the output range. In the example above, when the position changes from <code class="highlighter-rouge">index</code> to <code class="highlighter-rouge">index + 0.99</code>, the output <code class="highlighter-rouge">opacity</code> gradually changes from <code class="highlighter-rouge">1</code> to <code class="highlighter-rouge">0.3</code>, and then at <code class="highlighter-rouge">index + 1</code>, it suddenly sinks to <code class="highlighter-rouge">0</code>.</p>

<p><img src="/images/navigation-custom-transition/cliff-diagram.png" alt="opacity code" /></p>

<p>The cliff, in the card stack transition in particular, is an important performance tuning. Because composing translucent scenes is expensive, we should always try to minimize the number of translucent layers. Here when the photo grid scene is completely covered, we want to set its opacity to <code class="highlighter-rouge">0</code> to avoid unnecessary composition.</p>

<p>In comparison, the code below suffers from composition overhead because it leaves the opacity of photo grid non-zero even when it’s off screen:</p>

<div class="highlight"><pre><code class="language-jsx" data-lang="jsx"><span class="kr">const</span> <span class="nx">opacity</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">interpolate</span><span class="p">({</span>
  <span class="na">inputRange</span><span class="p">:</span>  <span class="p">[</span><span class="nx">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span>
  <span class="na">outputRange</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>         <span class="mi">1</span><span class="p">,</span>     <span class="mf">0.3</span>      <span class="p">],</span>
<span class="p">});</span></code></pre></div>

<p>Let’s recap what we’ve learned about the <code class="highlighter-rouge">NavigationCardStack</code> so far:</p>

<ul>
  <li><code class="highlighter-rouge">inputRange: [index - 1, index, index + 1]</code>: with this single input range, we are able to express concisely both photo grid and photo detail scenes. If it’s rendering the photo grid scene, the range <code class="highlighter-rouge">[index, index + 1]</code> is effective; if it’s rendering the photo detail scene, the range <code class="highlighter-rouge">[index - 1, index]</code> is effective.</li>
  <li><code class="highlighter-rouge">0.99</code>-cliff: useful to create output range that “suddenly” changes at some point. <strong>Question:</strong> what if we want to create a cliff just to the left of <code class="highlighter-rouge">index</code>? Shall we use <code class="highlighter-rouge">index - 0.99</code>? Or something else?</li>
</ul>

<h1 id="our-very-own-transitions">Our very own transitions!</h1>
<p>Once we’ve learned about the above, it’s almost trivial to create the transitions I listed at the beginning of this post. I’ll just list the interpolation code below for your viewing pleasure. You can also check out the complete code on github (<a href="https://github.com/lintonye/react-native-diary/blob/master/transitions/app/CrossFadeTransitioner.js">this</a> and <a href="https://github.com/lintonye/react-native-diary/blob/master/transitions/app/AndroidDefaultTransitioner.js">this</a>).</p>

<!-- crossFade -->
<div style="display: flex; flex-direction: row; align-items: center;">
  <div class="fivecol" style="float:none; margin-right:20px; ">
  <iframe width="225" height="400" src="//www.youtube.com/embed/6_BGrOQQlko?controls=0&amp;rel=0&amp;showinfo=0;" frameborder="0" allowfullscreen=""></iframe>
  </div>

  
<div class="highlight"><pre><code class="language-jsx" data-lang="jsx"><span class="kr">const</span> <span class="nx">inputRange</span> <span class="o">=</span> <span class="p">[</span><span class="nx">index</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">index</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
  <span class="kr">const</span> <span class="nx">opacity</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">interpolate</span><span class="p">({</span>
      <span class="nx">inputRange</span><span class="p">,</span>
      <span class="na">outputRange</span><span class="p">:</span> <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
  <span class="p">});</span></code></pre></div>

</div>

<!-- androidDefault -->
<div style="display: flex; flex-direction: row; align-items: center;">
  <div class="fivecol" style="float:none; margin-bottom:20px; margin-right:20px;">
  <iframe width="225" height="400" src="//www.youtube.com/embed/oVwq1QDcnOw?controls=0&amp;rel=0&amp;showinfo=0;" frameborder="0" allowfullscreen=""></iframe>
  </div>

  
<div class="highlight"><pre><code class="language-jsx" data-lang="jsx"><span class="kr">const</span> <span class="nx">opacity</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">interpolate</span><span class="p">({</span>
      <span class="na">inputRange</span><span class="p">:</span> <span class="p">[</span><span class="nx">index</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">index</span><span class="o">+</span><span class="mf">0.999</span><span class="p">,</span> <span class="nx">index</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span>
      <span class="na">outputRange</span><span class="p">:</span> <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
  <span class="p">});</span>

  <span class="kr">const</span> <span class="nx">translateY</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">interpolate</span><span class="p">({</span>
      <span class="na">inputRange</span><span class="p">:</span> <span class="p">[</span><span class="nx">index</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">index</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span>
      <span class="na">outputRange</span><span class="p">:</span> <span class="p">[</span><span class="mi">150</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
  <span class="p">})</span></code></pre></div>

</div>

<h1 id="summary">Summary</h1>
<p>Now that we’ve learned about how to concisely declare input and output ranges for all scenes and the “<code class="highlighter-rouge">0.99</code>” trick to create cliffs in the output range. We also created a couple of custom transitions without even breaking a sweat.</p>

<p>In the next post, we’ll start working on something a bit more challenging, the <a href="https://www.youtube.com/embed/efPFJkxa-BQ">shared element transition</a>! Feel free to ask me questions in the comments below, or suggest topics that you’d like me to write about in future posts. Have a great day!</p>

<p><em>Special thanks to <a href="https://www.facebook.com/eric.v.vicenti">Eric Vlad Vicenti</a> who reviewed this post and provided invaluable feedback!</em></p>

      
<div class="social">
  
  <div class='twitter'>
    <a href="https://twitter.com/share" class="twitter-share-button"  data-text="React Navigation: Cross Fade and Android Default Transitions" data-related="lintonye">Tweet</a>
  </div>
  

  
  <div class='facebook'>
    <div class="fb-share-button" data-layout="button_count"></div>
  </div>
  

  
  <div class='google'>
    <div class="g-plusone" data-size="medium"></div>
  </div>
  
    
  

  
  <div class='reddit'>
    <a href="//www.reddit.com/submit" onclick="window.open('//www.reddit.com/submit?url=http://lintonye.github.io/2016/12/22/navigation-experimental-custom-transition-2.html&title=React+Navigation%3A+Cross+Fade+and+Android+Default+Transitions'); return false"> <img src="//www.redditstatic.com/spreddit7.gif" alt="submit to reddit" border="0" /> </a>
  </div>
  
</div>

    </section>

    <footer>
      <address>
        <img src="/images/linton.jpg">
        <p>Written by <strong><a rel="author" href="https://twitter.com/lintonye" title="" target="_blank">Linton Ye</a></strong><br>
          <span class="muted">Freelance full-stack developer in BC Canada (GMT-8). Android, React Native, Node.js, MongoDB, PostgreSQL. <a href="mailto:linton@jimulabs.com">Contact me.</a></span>
        </p>
      </address>
      
      
      <section class="post_summary">
        <h3 class="title">Next up: <a href="/2017/01/23/react-navigation-shared-element-transition-1.html" rel="prefetch">React Navigation: Shared element transition 1/3 (overview)</a></h3>
        <p>Blog series: creating custom transitions using Transitioner in React Nativigation. This post covers an overview of shared element transition.</p>
        <hr>
      </section>
       
      
      
      <section class="post_summary">
        <h3 class="title">Previous story: <a href="/2016/12/20/navigation-experimental-custom-transition-1.html" rel="prefetch">React Navigation: An Overview of Transitioner and CardStack</a></h3>
        <p>Blog series: creating custom transitions using React Navigation. This post covers an overview of Transitioner and CardStack.</p>
        <hr>
      </section>
       
      
      <section>
        <div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'linton-react-native-diary';

  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
      </section>
      
    </footer>
  </div>
</article>


  <footer class="site-footer">
    <div class="container">
      &copy; 2017 Linton Ye

      <nav>
        <a href="/">Blog</a> &middot;
        <a href="/about.html">About</a>
      </nav>

      <nav class="social">
        
<a href="https://twitter.com/lintonye" title="Follow on Twitter" target="_blank"><i class="icon icon-twitter"></i></a>


<a href="https://github.com/lintonye" title="Watch on Github" target="_blank"><i class="icon icon-github"></i></a>


<a href="/atom.xml" title="RSS Feed">
  <i class="icon icon-rss"></i>
</a>

      </nav>
      <div>Based on Incorporated theme by <a href="https://sendtoinc.com">Inc</a></div>
    </div>
  </footer>

</body>
</html>
